import{g as a,o as l,b as e,k as f,j as G,x as he,a as r,d as i,h as xe,w as d,i as h,n as g,m as Q,F as B,p as z,t as o,q as R,f as A,c as b,y as pe,l as w,z as $,e as fe}from"./app-e0MpasvE.js";import{a as ge,r as me,_ as be}from"./AuthenticatedLayout-VDgioiGH.js";import{_ as D}from"./GlassContainer-8nFGHsFm.js";import{_ as U}from"./PrimaryButton-DL1WsPpg.js";import{_ as Z}from"./SecondaryButton-Ch6W6awh.js";import{r as Y}from"./ArrowRightIcon-BcqWuCWV.js";import{r as we}from"./XMarkIcon-DU6QvgYv.js";import{r as I}from"./PlusIcon-DCO7hwKp.js";import"./ApplicationLogo-CSe1vILC.js";import"./UserGroupIcon-BRL2iVRY.js";function _e(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function ye(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function ke(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Ce(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})])}function ee(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Se(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}function Be(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function Ae(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z"})])}function $e(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"})])}function J(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function te(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function O(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z","clip-rule":"evenodd"})])}function je(u,c){return l(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}const Me={class:"flex items-center justify-between"},Ve={class:"flex items-center space-x-4"},ze={class:"text-slate-300 text-sm"},De={key:0},Ze={key:1},Le={class:"space-y-6"},Ne={class:"space-y-4"},Fe={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},He={class:"flex-1 max-w-2xl"},Te={class:"flex items-center space-x-3"},Ee={class:"flex bg-white/5 rounded-full p-1 border border-white/10"},Ue={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-white/10"},Oe=["value"],qe=["value"],Pe=["value"],Ge={class:"flex items-end"},Qe={key:0,class:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50"},Re={class:"flex items-center space-x-4"},Je={class:"text-white text-sm font-medium"},Ke={key:0},We={key:1},Xe={class:"flex items-center space-x-2"},Ye={key:1},Ie={class:"space-y-4"},et={class:"flex items-center justify-between mb-4"},tt={class:"flex items-center space-x-3"},st=["checked"],lt={class:"flex items-start justify-between mb-4"},at={class:"flex items-start space-x-3 flex-1"},ot=["checked","onChange"],rt={class:"flex-1"},nt={class:"flex items-center space-x-3 mb-2"},it={class:"text-xl font-semibold text-white"},dt={class:"text-gray-300 text-lg"},ut={class:"flex items-center space-x-4 text-sm text-gray-300 mb-3"},ct={class:"flex flex-wrap gap-2 mb-3"},vt={class:"mb-3"},ht={class:"flex justify-between text-sm mb-1"},xt={class:"text-white"},pt={class:"w-full bg-white/10 rounded-full h-2"},ft={class:"flex items-center space-x-4 text-sm"},gt={class:"flex items-center space-x-1"},mt={class:"text-gray-300"},bt={class:"flex items-center space-x-1"},wt={class:"text-gray-300"},_t={key:0,class:"flex items-center space-x-1"},yt={class:"text-gray-300"},kt=["onClick"],Ct={class:"text-sm"},St={key:1,class:"text-sm text-gray-400"},Bt={key:0,class:"border-t border-white/10 pt-4"},At={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},$t={class:"flex items-center justify-between mb-2"},jt={class:"font-medium text-white text-sm"},Mt={class:"text-xs text-gray-400 space-y-1"},Vt={class:"flex items-center space-x-2 mt-2"},zt={key:1,class:"text-center py-4"},Dt={class:"flex justify-between items-center pt-4 border-t border-white/10 mt-4"},Zt={class:"flex items-center space-x-2"},Lt={class:"flex items-center space-x-2"},Nt={key:2},Ft={class:"overflow-x-auto"},Ht={class:"w-full"},Tt={class:"py-3 px-2"},Et=["checked","onChange"],Ut={class:"py-3 px-4"},Ot={class:"font-medium text-white"},qt={class:"text-xs text-gray-400"},Pt={class:"py-3 px-4"},Gt={class:"text-gray-300"},Qt={class:"py-3 px-4"},Rt={class:"py-3 px-4"},Jt={class:"py-3 px-4"},Kt={class:"text-gray-300"},Wt={class:"py-3 px-4"},Xt={class:"text-white"},Yt={class:"py-3 px-4"},It={class:"flex items-center space-x-2"},es={key:3,class:"flex justify-center"},ts={class:"flex items-center space-x-2"},ss={key:1,class:"text-gray-500 px-2"},ls={key:4,class:"text-center py-12"},as={class:"max-w-md mx-auto"},os={class:"mb-6"},rs={class:"text-gray-400 mb-6"},ns={class:"flex justify-center space-x-4"},is={class:"text-center"},ds={class:"mb-6"},us={class:"mx-auto flex items-center justify-center w-16 h-16 bg-red-500/20 rounded-full mb-4"},cs={class:"text-gray-300"},vs={key:0,class:"font-medium text-white"},hs={key:1,class:"font-medium text-white"},xs={class:"flex justify-center space-x-4"},ps=["disabled"],fs={key:1,class:"w-4 h-4 border-2 border-red-300/30 border-t-red-300 rounded-full animate-spin"},As={__name:"Index",props:{crops:{type:Object,required:!0},view_mode:{type:String,default:"batches"},filters:{type:Object,default:()=>({})},statuses:{type:Object,default:()=>({})},stages:{type:Object,default:()=>({})},varieties:{type:Array,default:()=>[]}},setup(u){const c=u,j=f(c.filters.search||""),_=f(c.filters.status||"all"),y=f(c.filters.stage||"all"),k=f(c.filters.variety||"all"),x=f(new Set),C=f(new Set),p=f(c.view_mode||"batches"),q=f(!1),H=f(!1),M=f(new Set),T=f(!1),S=f(!1),m=G(()=>c.crops?.data||[]),V={soaking:{label:"Soaking",color:"blue",bgClass:"bg-blue-500/20 text-blue-300",icon:O},germination:{label:"Germination",color:"green",bgClass:"bg-green-500/20 text-green-300",icon:O},blackout:{label:"Blackout",color:"gray",bgClass:"bg-gray-500/20 text-gray-300",icon:O},light:{label:"Light",color:"yellow",bgClass:"bg-yellow-500/20 text-yellow-300",icon:O},ready:{label:"Ready to Harvest",color:"green",bgClass:"bg-green-500/20 text-green-300",icon:te},harvested:{label:"Harvested",color:"emerald",bgClass:"bg-emerald-500/20 text-emerald-300",icon:te},failed:{label:"Failed",color:"red",bgClass:"bg-red-500/20 text-red-300",icon:je},unknown:{label:"Unknown",color:"slate",bgClass:"bg-slate-500/20 text-slate-300",icon:O}},L={active:{label:"Active",color:"green",bgClass:"bg-green-500/20 text-green-300"},attention:{label:"Needs Attention",color:"orange",bgClass:"bg-orange-500/20 text-orange-300"},completed:{label:"Completed",color:"purple",bgClass:"bg-purple-500/20 text-purple-300"},failed:{label:"Failed",color:"red",bgClass:"bg-red-500/20 text-red-300"},cancelled:{label:"Cancelled",color:"gray",bgClass:"bg-gray-500/20 text-gray-300"}},N=G(()=>x.value.size),E=G(()=>C.value.size),se=G(()=>p.value==="batches"?N.value>0:E.value>0),le=n=>{x.value.has(n)?x.value.delete(n):x.value.add(n),H.value=x.value.size>0},ae=n=>{C.value.has(n)?C.value.delete(n):C.value.add(n),H.value=C.value.size>0},oe=n=>{M.value.has(n)?M.value.delete(n):M.value.add(n)},re=()=>{x.value.size===m.value.length?x.value.clear():m.value.forEach(n=>x.value.add(n.crop_batch)),H.value=x.value.size>0},F=()=>{x.value.clear(),C.value.clear(),H.value=!1},K=n=>{F(),M.value.clear(),$.get(route("crops.index"),{...c.filters,view_mode:n,search:j.value,status:_.value!=="all"?_.value:null,stage:y.value!=="all"?y.value:null,variety:k.value!=="all"?k.value:null},{preserveState:!0,replace:!0,onStart:()=>{p.value=n}})},ne=()=>{$.get(route("crops.index"),{view_mode:p.value,search:j.value,status:_.value!=="all"?_.value:null,stage:y.value!=="all"?y.value:null,variety:k.value!=="all"?k.value:null},{preserveState:!0})},W=()=>{j.value="",_.value="all",y.value="all",k.value="all",$.get(route("crops.index"),{view_mode:p.value},{preserveState:!0})},ie=(n,t)=>t==="harvested"?"bg-emerald-500":n>=80?"bg-green-500":n>=50?"bg-blue-500":n>=25?"bg-yellow-500":"bg-orange-500",de=n=>n?new Date(n).toLocaleDateString():"",ue=()=>{p.value==="batches"?$.post(route("crops.bulk-advance-batches"),{batch_ids:Array.from(x.value)},{onSuccess:()=>{F()}}):$.post(route("crops.bulk-advance-stage"),{crop_ids:Array.from(C.value)},{onSuccess:()=>{F()}})},ce=()=>{T.value=!0},X=()=>{T.value=!1},ve=()=>{S.value=!0,p.value==="batches"?$.post(route("crops.bulk-delete-batches"),{batch_ids:Array.from(x.value)},{onSuccess:()=>{F(),T.value=!1,S.value=!1},onError:()=>{S.value=!1}}):$.post(route("crops.bulk-delete"),{crop_ids:Array.from(C.value)},{onSuccess:()=>{F(),T.value=!1,S.value=!1},onError:()=>{S.value=!1}})},P=()=>{ne()};return he(()=>{}),(n,t)=>(l(),a(B,null,[r(i(xe),{title:"Crop Management"}),r(be,null,{header:d(()=>[e("div",Me,[t[9]||(t[9]=e("div",null,[e("h1",{class:"text-3xl font-bold text-white"},"Crop Management"),e("p",{class:"text-slate-300 mt-1"},"Monitor and manage your crop production batches")],-1)),e("div",Ve,[e("div",ze,[p.value==="batches"?(l(),a("span",De,o(m.value.length)+" "+o(m.value.length===1?"batch":"batches"),1)):(l(),a("span",Ze,o(u.crops.total||m.value.length)+" "+o(u.crops.total===1?"tray":"trays"),1))]),r(i(w),{href:n.route("crops.create"),as:"button"},{default:d(()=>[r(U,{variant:"green",size:"medium",class:"flex items-center space-x-2"},{default:d(()=>[r(i(I),{class:"w-5 h-5"}),t[8]||(t[8]=e("span",null,"New Crop",-1))]),_:1})]),_:1},8,["href"])])])]),default:d(()=>[e("div",Le,[r(D,{variant:"default",padding:"medium"},{default:d(()=>[e("div",Ne,[e("div",Fe,[e("div",He,[r(ge,{modelValue:j.value,"onUpdate:modelValue":t[0]||(t[0]=s=>j.value=s),onInput:P,placeholder:"Search by batch number, tray ID, variety, or location...",size:"medium"},null,8,["modelValue"])]),e("div",Te,[r(Z,{onClick:t[1]||(t[1]=s=>q.value=!q.value),class:g([q.value?"ring-2 ring-white/20":"","flex items-center space-x-2"]),size:"medium"},{default:d(()=>[r(i(Se),{class:"w-4 h-4"}),t[10]||(t[10]=e("span",null,"Filters",-1))]),_:1},8,["class"]),e("div",Ee,[e("button",{onClick:t[2]||(t[2]=s=>K("batches")),class:g(["px-3 py-2 rounded-full text-sm transition-all duration-200 flex items-center space-x-1",p.value==="batches"?"bg-white/10 text-white":"text-gray-400 hover:text-white"])},[r(i($e),{class:"w-4 h-4"}),t[11]||(t[11]=e("span",null,"Batches",-1))],2),e("button",{onClick:t[3]||(t[3]=s=>K("trays")),class:g(["px-3 py-2 rounded-full text-sm transition-all duration-200 flex items-center space-x-1",p.value==="trays"?"bg-white/10 text-white":"text-gray-400 hover:text-white"])},[r(i(Ae),{class:"w-4 h-4"}),t[12]||(t[12]=e("span",null,"Trays",-1))],2)])])]),q.value?(l(),a("div",Ue,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-white mb-2"},"Status",-1)),Q(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>_.value=s),onChange:P,class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-blue-400/50 focus:border-blue-400/50"},[t[13]||(t[13]=e("option",{value:"all"},"All Statuses",-1)),(l(!0),a(B,null,z(u.statuses,(s,v)=>(l(),a("option",{key:v,value:v},o(s),9,Oe))),128))],544),[[R,_.value]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-white mb-2"},"Stage",-1)),Q(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>y.value=s),onChange:P,class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-blue-400/50 focus:border-blue-400/50"},[t[15]||(t[15]=e("option",{value:"all"},"All Stages",-1)),(l(!0),a(B,null,z(u.stages,(s,v)=>(l(),a("option",{key:v,value:v},o(s),9,qe))),128))],544),[[R,y.value]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-white mb-2"},"Variety",-1)),Q(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>k.value=s),onChange:P,class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:ring-2 focus:ring-blue-400/50 focus:border-blue-400/50"},[t[17]||(t[17]=e("option",{value:"all"},"All Varieties",-1)),(l(!0),a(B,null,z(u.varieties,s=>(l(),a("option",{key:s,value:s},o(s),9,Pe))),128))],544),[[R,k.value]])]),e("div",Ge,[r(Z,{onClick:W,size:"medium",class:"w-full"},{default:d(()=>[...t[19]||(t[19]=[A(" Clear Filters ",-1)])]),_:1})])])):h("",!0)])]),_:1}),H.value?(l(),a("div",Qe,[r(D,{variant:"blue",padding:"small"},{default:d(()=>[e("div",Re,[e("span",Je,[p.value==="batches"?(l(),a("span",Ke,o(N.value)+" "+o(N.value===1?"batch":"batches")+" selected",1)):(l(),a("span",We,o(E.value)+" "+o(E.value===1?"tray":"trays")+" selected",1))]),e("div",Xe,[se.value?(l(),b(U,{key:0,onClick:ue,variant:"green",size:"small",class:"flex items-center space-x-2"},{default:d(()=>[r(i(Y),{class:"w-4 h-4"}),t[20]||(t[20]=e("span",null,"Advance Stage",-1))]),_:1})):h("",!0),e("button",{onClick:ce,class:"flex items-center space-x-2 px-3 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 hover:text-red-200 border border-red-400/50 hover:border-red-400/70 rounded-lg backdrop-blur-sm transition-all duration-200 text-sm font-medium"},[r(i(J),{class:"w-4 h-4"}),t[21]||(t[21]=e("span",null,"Delete Selected",-1))]),r(Z,{onClick:F,size:"small"},{default:d(()=>[r(i(we),{class:"w-4 h-4"})]),_:1})])])]),_:1})])):h("",!0),p.value==="batches"?(l(),a("div",Ye,[e("div",Ie,[e("div",et,[e("div",tt,[e("input",{type:"checkbox",checked:N.value===m.value.length&&m.value.length>0,onChange:re,class:"w-4 h-4 text-blue-500 bg-white/10 border-white/20 rounded focus:ring-blue-400/50"},null,40,st),t[22]||(t[22]=e("span",{class:"text-white text-sm"},"Select All",-1))])]),(l(!0),a(B,null,z(m.value,s=>(l(),a("div",{key:s.crop_batch,class:"group relative"},[r(D,{variant:V[s.current_stage]?.color||"default",padding:"medium",class:"transition-all duration-300 hover:scale-[1.02]"},{default:d(()=>[e("div",lt,[e("div",at,[e("input",{type:"checkbox",checked:x.value.has(s.crop_batch),onChange:v=>le(s.crop_batch),class:"mt-1 w-4 h-4 text-blue-500 bg-white/10 border-white/20 rounded focus:ring-blue-400/50"},null,40,ot),e("div",rt,[e("div",nt,[e("h3",it,o(s.crop_batch),1),e("span",dt,o(s.variety),1)]),e("div",ut,[e("span",null,o(s.total_trays)+" "+o(s.total_trays===1?"tray":"trays"),1),t[23]||(t[23]=e("span",null,"•",-1)),e("span",null,o(s.location),1),t[24]||(t[24]=e("span",null,"•",-1)),e("span",null,o(de(s.planted_at)),1)]),e("div",ct,[e("span",{class:g(["px-3 py-1 rounded-full text-xs font-medium",L[s.status]?.bgClass])},o(L[s.status]?.label),3),e("span",{class:g(["px-3 py-1 rounded-full text-xs font-medium",V[s.current_stage]?.bgClass])},o(V[s.current_stage]?.label),3)]),e("div",vt,[e("div",ht,[t[25]||(t[25]=e("span",{class:"text-gray-300"},"Batch Progress",-1)),e("span",xt,o(s.progress)+"%",1)]),e("div",pt,[e("div",{class:g(["h-2 rounded-full transition-all duration-300",ie(s.progress,s.current_stage)]),style:pe({width:`${s.progress}%`})},null,6)])]),e("div",ft,[e("div",gt,[t[26]||(t[26]=e("div",{class:"w-2 h-2 bg-green-500 rounded-full"},null,-1)),e("span",mt,o(s.active_trays)+" active",1)]),e("div",bt,[t[27]||(t[27]=e("div",{class:"w-2 h-2 bg-purple-500 rounded-full"},null,-1)),e("span",wt,o(s.completed_trays)+" completed",1)]),s.failed_trays>0?(l(),a("div",_t,[t[28]||(t[28]=e("div",{class:"w-2 h-2 bg-red-500 rounded-full"},null,-1)),e("span",yt,o(s.failed_trays)+" failed",1)])):h("",!0)])])]),s.trays&&s.trays.length>0?(l(),a("button",{key:0,onClick:v=>oe(s.crop_batch),class:"flex items-center space-x-1 text-gray-300 hover:text-white transition-colors duration-200"},[e("span",Ct,o(M.value.has(s.crop_batch)?"Hide":"Show")+" Trays",1),M.value.has(s.crop_batch)?(l(),b(i(Ce),{key:1,class:"w-4 h-4"})):(l(),b(i(_e),{key:0,class:"w-4 h-4"}))],8,kt)):(l(),a("span",St,"No trays available"))]),M.value.has(s.crop_batch)?(l(),a("div",Bt,[s.trays&&s.trays.length>0?(l(),a("div",At,[(l(!0),a(B,null,z(s.trays,v=>(l(),a("div",{key:v.id,class:"bg-white/5 rounded-lg p-3 border border-white/10 hover:bg-white/10 transition-colors duration-200"},[e("div",$t,[e("span",jt,o(v.tray_id),1),e("span",{class:g(["px-2 py-1 rounded text-xs font-medium",V[v.current_stage]?.bgClass])},o(V[v.current_stage]?.label),3)]),e("div",Mt,[e("div",null,[t[29]||(t[29]=A("Status: ",-1)),e("span",{class:g(L[v.status]?.bgClass.split(" ").pop())},o(L[v.status]?.label),3)]),e("div",null,"Location: "+o(v.location),1),e("div",null,"Days: "+o(v.days_in_production),1)]),e("div",Vt,[r(i(w),{href:n.route("crops.show",v.id),class:"text-blue-400 hover:text-blue-300 text-xs"},{default:d(()=>[...t[30]||(t[30]=[A("View",-1)])]),_:1},8,["href"]),r(i(w),{href:n.route("crops.edit",v.id),class:"text-green-400 hover:text-green-300 text-xs"},{default:d(()=>[...t[31]||(t[31]=[A("Edit",-1)])]),_:1},8,["href"])])]))),128))])):(l(),a("div",zt,[...t[32]||(t[32]=[e("p",{class:"text-gray-400 text-sm"},"No tray details available for this batch",-1)])]))])):h("",!0),e("div",Dt,[e("div",Zt,[s.trays&&s.trays.length>0?(l(),b(i(w),{key:0,href:n.route("crops.show",s.trays[0].id),as:"button"},{default:d(()=>[r(Z,{size:"small",class:"flex items-center space-x-1"},{default:d(()=>[r(i(ee),{class:"w-4 h-4"}),t[33]||(t[33]=e("span",null,"View Details",-1))]),_:1})]),_:1},8,["href"])):h("",!0)]),e("div",Lt,[s.status==="active"?(l(),b(U,{key:0,onClick:v=>i($).post(n.route("crops.bulk-advance-batches"),{batch_ids:[s.crop_batch]}),variant:"green",size:"small",class:"flex items-center space-x-1"},{default:d(()=>[r(i(Y),{class:"w-4 h-4"}),t[34]||(t[34]=e("span",null,"Advance Batch",-1))]),_:1},8,["onClick"])):h("",!0)])])]),_:2},1032,["variant"])]))),128))])])):(l(),a("div",Nt,[r(D,{variant:"default",padding:"medium"},{default:d(()=>[e("div",Ft,[e("table",Ht,[t[35]||(t[35]=e("thead",null,[e("tr",{class:"border-b border-white/10"},[e("th",{class:"text-left py-3 px-2"},[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-500 bg-white/10 border-white/20 rounded focus:ring-blue-400/50"})]),e("th",{class:"text-left py-3 px-4"},[e("span",{class:"text-white"},"Batch / Tray")]),e("th",{class:"text-left py-3 px-4"},[e("span",{class:"text-white"},"Variety")]),e("th",{class:"text-left py-3 px-4"},"Stage"),e("th",{class:"text-left py-3 px-4"},"Status"),e("th",{class:"text-left py-3 px-4"},"Location"),e("th",{class:"text-left py-3 px-4"},"Days"),e("th",{class:"text-left py-3 px-4"},"Actions")])],-1)),e("tbody",null,[(l(!0),a(B,null,z(m.value,s=>(l(),a("tr",{key:s.id,class:"border-b border-white/5 hover:bg-white/5 transition-colors duration-200"},[e("td",Tt,[e("input",{type:"checkbox",checked:C.value.has(s.id),onChange:v=>ae(s.id),class:"w-4 h-4 text-blue-500 bg-white/10 border-white/20 rounded focus:ring-blue-400/50"},null,40,Et)]),e("td",Ut,[e("div",null,[e("span",Ot,o(s.crop_batch),1),e("div",qt,o(s.tray_id),1)])]),e("td",Pt,[e("span",Gt,o(s.variety),1)]),e("td",Qt,[e("span",{class:g(["px-2 py-1 rounded-full text-xs font-medium",V[s.current_stage]?.bgClass])},o(V[s.current_stage]?.label),3)]),e("td",Rt,[e("span",{class:g(["px-2 py-1 rounded-full text-xs font-medium",L[s.status]?.bgClass])},o(L[s.status]?.label),3)]),e("td",Jt,[e("span",Kt,o(s.location),1)]),e("td",Wt,[e("span",Xt,o(s.days_in_production),1)]),e("td",Yt,[e("div",It,[r(i(w),{href:n.route("crops.show",s.id),as:"button"},{default:d(()=>[r(Z,{size:"small"},{default:d(()=>[r(i(ee),{class:"w-4 h-4"})]),_:1})]),_:1},8,["href"]),r(i(w),{href:n.route("crops.edit",s.id),as:"button"},{default:d(()=>[r(U,{variant:"blue",size:"small"},{default:d(()=>[r(i(Be),{class:"w-4 h-4"})]),_:1})]),_:1},8,["href"])])])]))),128))])])])]),_:1})])),u.crops.last_page>1?(l(),a("div",es,[r(D,{variant:"default",padding:"small"},{default:d(()=>[e("div",ts,[u.crops.prev_page_url?(l(),b(i(w),{key:0,href:u.crops.prev_page_url,class:"px-3 py-2 rounded-lg text-sm text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-200"},{default:d(()=>[r(i(ye),{class:"w-4 h-4"})]),_:1},8,["href"])):h("",!0),(l(!0),a(B,null,z(u.crops.last_page,s=>(l(),a(B,{key:s},[s===1||s===u.crops.last_page||Math.abs(s-u.crops.current_page)<=2?(l(),b(i(w),{key:0,href:u.crops.links[s-1]?.url||"#",class:g(["px-3 py-2 rounded-lg text-sm transition-all duration-200",s===u.crops.current_page?"bg-blue-500/20 text-blue-300 border border-blue-400/50":"text-gray-300 hover:text-white hover:bg-white/10"])},{default:d(()=>[A(o(s),1)]),_:2},1032,["href","class"])):Math.abs(s-u.crops.current_page)===3?(l(),a("span",ss," ... ")):h("",!0)],64))),128)),u.crops.next_page_url?(l(),b(i(w),{key:1,href:u.crops.next_page_url,class:"px-3 py-2 rounded-lg text-sm text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-200"},{default:d(()=>[r(i(ke),{class:"w-4 h-4"})]),_:1},8,["href"])):h("",!0)])]),_:1})])):h("",!0),m.value.length===0?(l(),a("div",ls,[r(D,{variant:"default",padding:"large"},{default:d(()=>[e("div",as,[e("div",os,[r(i(me),{class:"w-16 h-16 mx-auto text-gray-400"})]),t[38]||(t[38]=e("h3",{class:"text-xl font-semibold text-white mb-2"},"No crops found",-1)),e("p",rs,o(j.value||_.value!=="all"||y.value!=="all"||k.value!=="all"?"No crops match your current filters.":"Start by creating your first crop batch."),1),e("div",ns,[r(i(w),{href:n.route("crops.create"),as:"button"},{default:d(()=>[r(U,{variant:"green",class:"flex items-center space-x-2"},{default:d(()=>[r(i(I),{class:"w-5 h-5"}),t[36]||(t[36]=e("span",null,"New Crop",-1))]),_:1})]),_:1},8,["href"]),j.value||_.value!=="all"||y.value!=="all"||k.value!=="all"?(l(),b(Z,{key:0,onClick:W},{default:d(()=>[...t[37]||(t[37]=[A(" Clear Filters ",-1)])]),_:1})):h("",!0)])])]),_:1})])):h("",!0),T.value?(l(),a("div",{key:5,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:X},[r(D,{variant:"red",padding:"large",class:"max-w-md w-full mx-4",onClick:t[7]||(t[7]=fe(()=>{},["stop"]))},{default:d(()=>[e("div",is,[e("div",ds,[e("div",us,[r(i(J),{class:"w-8 h-8 text-red-400"})]),t[41]||(t[41]=e("h3",{class:"text-xl font-semibold text-white mb-2"}," Confirm Deletion ",-1)),e("p",cs,[t[39]||(t[39]=A(" Are you sure you want to delete ",-1)),p.value==="batches"?(l(),a("span",vs,o(N.value)+" "+o(N.value===1?"batch":"batches"),1)):(l(),a("span",hs,o(E.value)+" "+o(E.value===1?"tray":"trays"),1)),t[40]||(t[40]=A("? This action will soft delete the selected items and they can be restored later if needed. ",-1))])]),e("div",xs,[r(Z,{onClick:X,disabled:S.value,size:"medium"},{default:d(()=>[...t[42]||(t[42]=[A(" Cancel ",-1)])]),_:1},8,["disabled"]),e("button",{onClick:ve,disabled:S.value,class:"flex items-center space-x-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 hover:text-red-200 border border-red-400/50 hover:border-red-400/70 rounded-lg backdrop-blur-sm transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed"},[S.value?(l(),a("div",fs)):(l(),b(i(J),{key:0,class:"w-4 h-4"})),e("span",null,o(S.value?"Deleting...":"Delete"),1)],8,ps)])])]),_:1})])):h("",!0)])]),_:1})],64))}};export{As as default};

import{b as M,_ as j}from"./AuthenticatedLayout-VDgioiGH.js";import{g as c,o as n,b as e,A as F,j as p,k as x,a,d as u,h as N,w as h,F as g,p as f,c as D,l as O,B as $,t as d,f as V,n as H}from"./app-e0MpasvE.js";import{_ as P}from"./GlassContainer-8nFGHsFm.js";import{r as E,_ as S}from"./StatsCard-DdeMCJi1.js";import{r as U,a as B}from"./UserGroupIcon-BRL2iVRY.js";import{r as T}from"./ExclamationTriangleIcon-DC9sDI2E.js";import{r as Z}from"./ArrowRightIcon-BcqWuCWV.js";import"./ApplicationLogo-CSe1vILC.js";function z(y,i){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function L(y,i){return n(),c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})])}const q=()=>{const y=F(),i=p(()=>y.props.auth?.user||null),w=p(()=>i.value?typeof i.value.role=="string"?[i.value.role]:Array.isArray(i.value.roles)?i.value.roles.map(t=>typeof t=="string"?t:t.name):i.value.roles?[i.value.roles]:[]:[]),m=t=>w.value.includes(t),o=t=>(Array.isArray(t)||(t=[t]),t.some(v=>m(v))),R=t=>(Array.isArray(t)||(t=[t]),t.every(v=>m(v))),b=p(()=>i.value!==null),_=p(()=>o(["administrator","farm_manager","grower"])),A=p(()=>o(["administrator","farm_manager"])),k=p(()=>o(["administrator","farm_manager","warehouse"])),C=p(()=>o(["administrator","farm_manager","sales"])),I=p(()=>o(["administrator","sales"])),l=p(()=>o(["administrator","farm_manager"])),s=p(()=>m("administrator"));return{user:i,userRoles:w,hasRole:m,hasAnyRole:o,hasAllRoles:R,canAccessDashboard:b,canAccessCrops:_,canAccessRecipes:A,canAccessInventory:k,canAccessOrders:C,canAccessCustomers:I,canAccessReports:l,canAccessSettings:s,getNavigationItems:()=>{const t=[];return b.value&&t.push({id:"dashboard",label:"Dashboard",route:"dashboard",color:"blue",icon:"HomeIcon"}),_.value&&t.push({id:"crops",label:"Crops",route:"dashboard",color:"green",icon:"SparklesIcon"}),A.value&&t.push({id:"recipes",label:"Recipes",route:"dashboard",color:"green",icon:"BeakerIcon"}),k.value&&t.push({id:"inventory",label:"Inventory",route:"dashboard",color:"orange",icon:"CubeIcon"}),C.value&&t.push({id:"orders",label:"Orders",route:"dashboard",color:"yellow",icon:"ShoppingCartIcon"}),I.value&&t.push({id:"customers",label:"Customers",route:"dashboard",color:"yellow",icon:"UsersIcon"}),l.value&&t.push({id:"reports",label:"Reports",route:"dashboard",color:"purple",icon:"ChartBarIcon"}),s.value&&t.push({id:"settings",label:"Settings",route:"dashboard",color:"purple",icon:"CogIcon"}),t}}},Q={class:"flex items-center justify-between"},W={class:"text-slate-300 text-sm"},G={class:"space-y-6"},J={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},K={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},X={class:"flex flex-col items-center text-center space-y-4"},Y={class:"p-4 rounded-full bg-white/10 group-hover:bg-white/20 transition-all duration-300"},ee={class:"font-semibold text-white text-sm mb-1"},te={class:"text-gray-400 text-xs"},re={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},se={class:"lg:col-span-2"},oe={class:"flex items-center justify-between mb-6"},ae={class:"space-y-4"},ne={class:"p-2 rounded-lg bg-white/10"},ie={class:"flex-1 min-w-0"},le={class:"font-medium text-white text-sm"},de={class:"text-gray-400 text-xs mt-1"},ce={class:"text-gray-500 text-xs"},ue={class:"space-y-6"},pe={class:"space-y-3"},he={class:"flex-1"},me={class:"font-medium text-white text-sm"},ge={class:"flex items-center space-x-2 mt-1"},ve={class:"text-gray-400 text-xs"},xe={class:"flex items-center space-x-2"},fe={class:"space-y-4"},ye={class:"font-medium text-green-200 text-sm mb-2"},we={class:"space-y-2"},be={class:"text-white text-xs"},_e={class:"text-gray-400 text-xs"},De={__name:"Dashboard",setup(y){const{canAccessCrops:i,canAccessOrders:w,canAccessInventory:m}=q(),o=x({activeCrops:{total:24,byStage:{seeding:8,growing:12,harvesting:4},trend:"up",trendValue:"+12%"},todaysHarvests:{total:6,weight:"45.2kg",trend:"up",trendValue:"+8%"},pendingOrders:{total:18,value:"$2,840",trend:"neutral",trendValue:"Â±0%"},lowInventory:{total:3,items:["Pea Shoots","Radish Microgreens","Arugula"],trend:"down",trendValue:"-2"}}),R=x([{id:"new-crop",title:"Start New Batch",description:"Initialize new crop production",icon:L,color:"green",route:"crops.create",permission:"canAccessCrops"},{id:"record-harvest",title:"Log Harvest",description:"Record harvest completion",icon:U,color:"blue",route:"dashboard",permission:"canAccessCrops"},{id:"process-order",title:"Process Orders",description:"Manage order fulfillment",icon:B,color:"yellow",route:"dashboard",permission:"canAccessOrders"},{id:"inventory-check",title:"Inventory Audit",description:"Review and update stock",icon:M,color:"orange",route:"dashboard",permission:"canAccessInventory"}]),b=x([{id:1,type:"harvest",title:"Production Completed",description:"Batch #PS-2024-045 - 12.5kg pea shoots harvested",timestamp:"2 hours ago",icon:E,color:"green"},{id:2,type:"fulfillment",title:"Order Fulfillment",description:"Batch #ORDER-2024-156 - 5kg mixed greens packed",timestamp:"4 hours ago",icon:B,color:"yellow"},{id:3,type:"production",title:"Production Initiated",description:"Batch #RM-2024-078 - 200 trays radish seeded",timestamp:"6 hours ago",icon:L,color:"green"},{id:4,type:"inventory",title:"Inventory Alert",description:"Arugula stock below operational threshold",timestamp:"8 hours ago",icon:T,color:"orange"}]),_=x([{id:1,title:"Irrigation Cycle - Arugula",time:"09:00 AM",priority:"high",color:"green"},{id:2,title:"Harvest Operations - Pea Shoots",time:"11:30 AM",priority:"medium",color:"blue"},{id:3,title:"Order Processing & Packing",time:"02:00 PM",priority:"high",color:"yellow"},{id:4,title:"Equipment Sanitization",time:"04:00 PM",priority:"low",color:"purple"}]),A=x([{date:"Today",events:[{type:"harvest",crop:"Pea Shoots",stage:"Day 10"},{type:"seed",crop:"Sunflower",stage:"Day 0"}]},{date:"Tomorrow",events:[{type:"harvest",crop:"Radish",stage:"Day 8"}]},{date:"Wednesday",events:[{type:"harvest",crop:"Arugula",stage:"Day 12"},{type:"water",crop:"Multiple",stage:"Maintenance"}]}]),k=p(()=>{const l={canAccessCrops:i,canAccessOrders:w,canAccessInventory:m};return R.value.filter(s=>{const r=s.permission;return!r||l[r]?.value})}),C=l=>({high:"text-red-400",medium:"text-yellow-400",low:"text-green-400"})[l]||"text-gray-400",I=l=>({harvest:"bg-green-500/20 text-green-300",seed:"bg-blue-500/20 text-blue-300",water:"bg-cyan-500/20 text-cyan-300"})[l]||"bg-gray-500/20 text-gray-300";return(l,s)=>(n(),c(g,null,[a(u(N),{title:"Dashboard"}),a(j,null,{header:h(()=>[e("div",Q,[s[0]||(s[0]=e("div",null,[e("h1",{class:"text-3xl font-bold text-white"},"Operations Dashboard"),e("p",{class:"text-slate-300 mt-1"},"Farm management overview and key metrics")],-1)),e("div",W,d(new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)])]),default:h(()=>[e("div",G,[e("section",null,[e("div",J,[a(S,{title:"Active Crops",value:o.value.activeCrops.total,icon:u(L),color:"green",trend:o.value.activeCrops.trend,"trend-value":o.value.activeCrops.trendValue},null,8,["value","icon","trend","trend-value"]),a(S,{title:"Today's Harvests",value:o.value.todaysHarvests.total,icon:u(M),color:"blue",trend:o.value.todaysHarvests.trend,"trend-value":o.value.todaysHarvests.trendValue},null,8,["value","icon","trend","trend-value"]),a(S,{title:"Pending Orders",value:o.value.pendingOrders.total,icon:u(B),color:"yellow",trend:o.value.pendingOrders.trend,"trend-value":o.value.pendingOrders.trendValue},null,8,["value","icon","trend","trend-value"]),a(S,{title:"Low Inventory",value:o.value.lowInventory.total,icon:u(T),color:"orange",trend:o.value.lowInventory.trend,"trend-value":o.value.lowInventory.trendValue},null,8,["value","icon","trend","trend-value"])])]),e("section",null,[a(P,{variant:"default",padding:"medium"},{default:h(()=>[s[1]||(s[1]=e("h2",{class:"text-xl font-semibold text-white mb-6"},"Operations Center",-1)),e("div",K,[(n(!0),c(g,null,f(k.value,r=>(n(),D(u(O),{key:r.id,href:l.route(r.route),class:"group relative p-6 rounded-xl transition-all duration-300 hover:scale-105 bg-gradient-to-br from-white/5 via-transparent to-white/10 border border-white/10 hover:border-white/30"},{default:h(()=>[e("div",X,[e("div",Y,[(n(),D($(r.icon),{class:"w-8 h-8 text-white"}))]),e("div",null,[e("h3",ee,d(r.title),1),e("p",te,d(r.description),1)]),a(u(Z),{class:"w-4 h-4 text-gray-400 group-hover:text-white transition-colors duration-300"})])]),_:2},1032,["href"]))),128))])]),_:1})]),e("div",re,[e("div",se,[a(P,{variant:"blue",padding:"medium"},{default:h(()=>[e("div",oe,[s[3]||(s[3]=e("h2",{class:"text-xl font-semibold text-white"},"Farm Activity Log",-1)),a(u(O),{href:l.route("dashboard"),class:"text-blue-300 hover:text-blue-200 text-sm transition-colors duration-200"},{default:h(()=>[...s[2]||(s[2]=[V(" View All Logs ",-1)])]),_:1},8,["href"])]),e("div",ae,[(n(!0),c(g,null,f(b.value,r=>(n(),c("div",{key:r.id,class:"flex items-start space-x-4 p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors duration-200"},[e("div",ne,[(n(),D($(r.icon),{class:"w-5 h-5 text-white"}))]),e("div",ie,[e("h4",le,d(r.title),1),e("p",de,d(r.description),1),e("span",ce,d(r.timestamp),1)])]))),128))])]),_:1})]),e("div",ue,[a(P,{variant:"purple",padding:"medium"},{default:h(()=>[s[5]||(s[5]=e("h3",{class:"text-lg font-semibold text-white mb-4"},"Operational Schedule",-1)),e("div",pe,[(n(!0),c(g,null,f(_.value,r=>(n(),c("div",{key:r.id,class:"flex items-center justify-between p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors duration-200"},[e("div",he,[e("h4",me,d(r.title),1),e("div",ge,[a(u(z),{class:"w-3 h-3 text-gray-400"}),e("span",ve,d(r.time),1)])]),e("div",xe,[e("span",{class:H([C(r.priority),"text-xs font-medium"])},d(r.priority.toUpperCase()),3)])]))),128))]),a(u(O),{href:l.route("dashboard"),class:"block mt-4 text-center text-purple-300 hover:text-purple-200 text-sm transition-colors duration-200"},{default:h(()=>[...s[4]||(s[4]=[V(" View All Tasks ",-1)])]),_:1},8,["href"])]),_:1}),a(P,{variant:"green",padding:"medium"},{default:h(()=>[s[7]||(s[7]=e("h3",{class:"text-lg font-semibold text-white mb-4"},"Production Calendar",-1)),e("div",fe,[(n(!0),c(g,null,f(A.value,r=>(n(),c("div",{key:r.date,class:"border-l-2 border-green-400/30 pl-4"},[e("h4",ye,d(r.date),1),e("div",we,[(n(!0),c(g,null,f(r.events,(t,v)=>(n(),c("div",{key:v,class:"flex items-center space-x-2"},[e("span",{class:H(["px-2 py-1 rounded text-xs font-medium",I(t.type)])},d(t.type.charAt(0).toUpperCase()+t.type.slice(1)),3),e("span",be,d(t.crop),1),e("span",_e,d(t.stage),1)]))),128))])]))),128))]),a(u(O),{href:l.route("dashboard"),class:"block mt-4 text-center text-green-300 hover:text-green-200 text-sm transition-colors duration-200"},{default:h(()=>[...s[6]||(s[6]=[V(" View Full Calendar ",-1)])]),_:1},8,["href"])]),_:1})])])])]),_:1})],64))}};export{De as default};
